{"version":3,"sources":["logo.png","App.js","index.js"],"names":["module","exports","i","App","props","state","uuid","phone","otp","login_state","data","handle_uuid_change","bind","handle_phone_change","handle_otp_change","login_attempt","verify_attempt","document","title","this","credentials","axios","method","url","headers","setState","response","event","target","value","records","ngo_name","className","src","logo","alt","type","placeholder","onChange","disabled","onClick","Row","Col","xs","lg","md","Table","responsive","map","record","start","timestamp","latitude","longitude","end","distance","Button","variant","href","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.86709383.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d577b373.png\";","import axios from \"axios\";\nimport React from \"react\";\n\nimport './App.css';\nimport logo from './logo.png';\nimport Table from 'react-bootstrap/Table';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\n\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            uuid: '',\n            phone: '',\n            otp: '',\n            login_state: '',\n            data: {}\n        };\n\n        this.handle_uuid_change = this.handle_uuid_change.bind(this);\n        this.handle_phone_change = this.handle_phone_change.bind(this);\n        this.handle_otp_change = this.handle_otp_change.bind(this);\n        this.login_attempt = this.login_attempt.bind(this);\n        this.verify_attempt = this.verify_attempt.bind(this);\n    }\n\n    componentDidMount() {\n        document.title = \"Toll System\";\n    }\n\n    async login_attempt() {\n        const { credentials } = this.state;\n        const { uuid } = this.state;\n        const { phone } = this.state;\n\n        var response = await axios({\n            method: 'post',\n            url: \"http://65.2.185.251:3000/login\",\n            headers: {},\n            data: {\n                uuid: uuid,\n                phone: phone\n            }\n        });\n\n        if (response.data == \"Success\") {\n            this.setState({ login_state: \"verify\" });\n        }\n    }\n\n    async verify_attempt() {\n        const { uuid } = this.state;\n        const { phone } = this.state;\n        const { otp } = this.state;\n\n        var response = await axios({\n            method: 'post',\n            url: \"http://65.2.185.251:3000/verify\",\n            headers: {},\n            data: {\n                uuid: uuid,\n                phone: phone,\n                otp: otp\n            }\n        });\n\n        this.setState({ data: response.data });\n        this.setState({ login_state: \"verified\" });\n\n    }\n\n    handle_uuid_change(event) {\n        this.setState({ uuid: event.target.value });\n    }\n\n    handle_phone_change(event) {\n        this.setState({ phone: event.target.value });\n    }\n\n    handle_otp_change(event) {\n        this.setState({ otp: event.target.value });\n    }\n\n    render() {\n        const { records } = this.state;\n        const { login_state } = this.state;\n        const { ngo_name } = this.state;\n        return (\n            <div className=\"some\">\n                <title>Toll System - Login</title>\n                {(login_state === \"verify\") ? (\n                    <div className=\"outer\">\n                        <div className=\"inner\">\n                            <img src={logo} alt=\"Logo\" />\n                            <h3>Log in</h3>\n\n                            <div className=\"form-group\">\n                                <label>UUID</label>\n                                <input type=\"uuid\" className=\"form-control\" value={this.state.uuid} placeholder=\"Enter UUID\" onChange={this.handle_uuid_change} disabled />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>Phone</label>\n                                <input type=\"phone\" className=\"form-control\" value={this.state.phone} placeholder=\"Enter Phone\" onChange={this.handle_phone_change} disabled />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>OTP</label>\n                                <input type=\"otp\" className=\"form-control\" placeholder=\"Enter OTP\" onChange={this.handle_otp_change} />\n                            </div>\n\n                            <button onClick={this.verify_attempt} className=\"btn btn-dark btn-lg btn-block\">Verify and Login</button>\n                        </div>\n                    </div>\n                ) : ((login_state === \"\") ? (\n                    <div className=\"outer\">\n                        <div className=\"inner\">\n                            <img src={logo} alt=\"Logo\" />\n                            <h3>Log in</h3>\n\n                            <div className=\"form-group\">\n                                <label>UUID</label>\n                                <input type=\"uuid\" className=\"form-control\" placeholder=\"Enter UUID\" onChange={this.handle_uuid_change} />\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label>Phone</label>\n                                <input type=\"phone\" className=\"form-control\" placeholder=\"Enter Phone\" onChange={this.handle_phone_change} />\n                            </div>\n\n                            <button onClick={this.login_attempt} className=\"btn btn-dark btn-lg btn-block\">Get OTP</button>\n                        </div>\n                    </div>\n                ) : (\n                    <div className=\"outer\">\n                        <Row className=\"justify-content-md-center\">\n                            <Col xs lg=\"2\">\n                            </Col>\n                            <Col md=\"auto\">\n                                <h1>Travel History</h1>\n                                <button onClick={this.verify_attempt} className=\"btn btn-success\">Refresh</button>\n                                <br />\n                                <h4>{this.state.uuid}</h4>\n                                <br/>\n                                <Table responsive>\n                                    <thead>\n                                        <tr>\n                                            <th>Timestamp</th>\n                                            <th>Start Coordinates</th>\n                                            <th>End Coordinates</th>\n                                            <th>Distance(in Meters)</th>\n                                            <th>Toll</th>\n                                            <th>Payment</th>\n                                        </tr>\n                                    </thead>\n\n                                    <tbody>\n                                        {this.state.data[\"trips\"].map((record) => (\n                                            <tr>\n                                                <td>{record.start.timestamp}</td>\n                                                <td>{record.start.latitude}, {record.start.longitude}</td>\n                                                <td>{record.end.latitude}, {record.end.longitude}</td>\n                                                <td>{record.distance}</td>\n                                                <td>{record.distance * 0.002}</td>\n                                                <td>\n                                <Button variant=\"success\" href=\"http://65.2.185.251:8000\" target=\"_blank\">Pay Now</Button>{' '}\n                                </td>\n                                            </tr>\n                                        ))}\n                                    </tbody>\n                                </Table>\n                                \n                                <h4>Total Distance Travelled: {this.state.data[\"distanceTravelled\"]}</h4>\n                                <h4>Total Toll: {this.state.data[\"distanceTravelled\"]*0.002}</h4>\n\n                            </Col>\n                            <Col xs lg=\"2\">\n                            </Col>\n                        </Row>\n                    </div>\n                ))}\n\n            </div>\n        );\n    }\n}\n\nexport default App;\n","\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"bootstrap/dist/js/bootstrap\";\nimport \"jquery/dist/jquery\"\nimport App from \"./App.js\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}